# Readme

Imagine doing this...
<br>(Whitespaces have been indicated by dots '.')

```txt
....const multiline_text.=.`
........Hello world!
........How much is the fish?
....`
```

If you write the value of `multiline_text` into a file, you'll notice many unwanted newline (\n) and tab (\t) characters! The build-in `String.trim()` method wouldn't help here, because it only removes leading and trailing spaces but not the unwanted tabs before every line. This package flattens multiline strings in more predictable ways.

## Install

Run `npm i string-slurp@latest`, then import the package.

```js
// Both import variants are equal!
import strim from "string-slurp"
import {strim} from "string-slurp"
```

## Use

The package exports a single function `strim(text, line_joiner = "\n")` where `text` argument can be a `'string'` or an `['array', 'of' 'strings']`. The optional `line_joiner` will split the text into paragraphs, do the cleaning of spaces and join them back into a single string.

Here's an example of a larger compilation:

```js
strim(
    [ // paragraphs
        `
            # Application can not operate on files outside its ownership or realm.
            # If Certbot saves certificates at its default --config-dir (/etc/letsencrypt) then copy and give them appropriate file execution permissions.
        `,
        `
            OG_KEY="${join("/etc/letsencrypt/live", HOST_ALIAS, basename(SSL_CREDENTIALS.letsencrypt.key))}"
            OG_CERT="${join("/etc/letsencrypt/live", HOST_ALIAS, basename(SSL_CREDENTIALS.letsencrypt.cert))}"
            KEY="${SSL_CREDENTIALS.letsencrypt.key}"
            CERT="${SSL_CREDENTIALS.letsencrypt.cert}"
        `,
        `
            if [ -e $OG_KEY ] && [ -e $OG_CERT ]; then
                cp $OG_KEY $KEY
                cp $OG_CERT $CERT
                chmod ${FILE_PERMISSIONS.toString(8)} $KEY
                chmod ${FILE_PERMISSIONS.toString(8)} $CERT
            fi
        `
    ],
    "\n\n" // paragraph line separator
)
```

The above example would compile into something like this:<br>
(See how paragraphs have no leading tabs and were joined with an empty line in between them?)

```shell
#!/bin/bash

# This script has been auto-generated by the 'demo' application
# The generation source can be found at '/some/path/app/config.js'

# Application can not operate on files outside its ownership or realm.
# If Certbot saves certificates at its default --config-dir (/etc/letsencrypt) then copy and give them appropriate file execution permissions.

OG_KEY="/etc/letsencrypt/live/dev.domain.tld/privkey.pem"
OG_CERT="/etc/letsencrypt/live/dev.domain.tld/fullchain.pem"
KEY="/root/mydirtyhobby/cert/live/dev.domain.tld/privkey.pem"
CERT="/root/mydirtyhobby/cert/live/dev.domain.tld/fullchain.pem"

if [ -e $OG_KEY ] && [ -e $OG_CERT ]; then
	cp $OG_KEY $KEY
	cp $OG_CERT $CERT
	chmod 750 $KEY
	chmod 750 $CERT
fi
```

Same could be done with an argument that is a single string (instead of an array of paragraphs), but then the line separator flattens and merges the newline characters of the multiline string.

```js
console.log(strim(`
            #!/bin/bash

            # This script has been auto-generated by the 'demo' application
            # The generation source can be found at '/some/path/app/config.js'

            # Application can not operate on files outside its ownership or realm.
            # If Certbot saves certificates at its default --config-dir (/etc/letsencrypt) then copy and give them appropriate file execution permissions.
`))
```
```txt
#!/bin/bash
# This script has been auto-generated by the 'demo' application
# The generation source can be found at '/some/path/app/config.js'
# Application can not operate on files outside its ownership or realm.
# If Certbot saves certificates at its default --config-dir (/etc/letsencrypt) then copy and give them appropriate file execution permissions.
```
